<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waiter Interface - Restaurant Management</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <h1>üë®‚Äçüíº Waiter Interface</h1>
        <div style="margin-top: 1rem;">
            <a href="waiter-dashboard.html" style="color: white; text-decoration: none; margin-right: 1rem;">Dashboard</a>
            <a href="login.html" style="color: white; text-decoration: none;">Logout</a>
        </div>
        <nav>
            <button class="nav-btn active" data-view="billing">Billing</button>
            <button class="nav-btn" data-view="orders">Orders</button>
        </nav>
    </header>

    <main>
        <!-- Billing View -->
        <section id="billing-view" class="view active">
            <h2>Generate Bill</h2>
            <div class="billing-container">
                <div class="form-section">
                    <h3>Select Order</h3>
                    <div class="form-group">
                        <label for="order-select">Order ID:</label>
                        <select id="order-select">
                            <option value="">-- Select an order --</option>
                        </select>
                        <button id="load-order-btn" class="btn btn-secondary">Load Order</button>
                    </div>
                </div>

                <div id="bill-preview" class="bill-preview" style="display: none;">
                    <h3>Bill Preview</h3>
                    <div id="bill-items"></div>
                    <div class="bill-totals">
                        <div class="bill-row">
                            <span>Subtotal:</span>
                            <span id="bill-subtotal">$0.00</span>
                        </div>
                        <div class="bill-row">
                            <span>Tax (10%):</span>
                            <span id="bill-tax">$0.00</span>
                        </div>
                        <div class="bill-row total">
                            <span>Total:</span>
                            <span id="bill-total">$0.00</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="payment-method">Payment Method:</label>
                        <select id="payment-method">
                            <option value="cash">Cash</option>
                            <option value="card">Card</option>
                            <option value="digital">Digital Payment</option>
                        </select>
                    </div>
                    <button id="process-payment-btn" class="btn btn-primary">Process Payment</button>
                </div>
            </div>
            <div id="billing-message" class="message"></div>
        </section>

        <!-- Orders View -->
        <section id="orders-view" class="view">
            <h2>All Orders</h2>
            <div id="orders-container" class="orders-container">
                <!-- Orders will be dynamically loaded here -->
            </div>
        </section>

        <!-- Receipt -->
        <!-- Add this at the end of waiter.html, right before the closing </main> tag -->
        <!-- Receipt Template (Hidden) -->
        <div id="receipt-template" style="display: none;">
            <div class="receipt-container">
                <div class="receipt-header">
                    <div class="restaurant-name">Egyptian Restaurant</div>
                    <div>123 Nile Street, Cairo</div>
                    <div>Phone: (123) 456-7890</div>
                    <div>VAT: 123456789</div>
                </div>

                <div class="receipt-info">
                    <div><strong>Receipt #:</strong> <span id="receipt-number">N/A</span></div>
                    <div><strong>Order #:</strong> <span id="order-number">N/A</span></div>
                    <div><strong>Table #:</strong> <span id="table-number">N/A</span></div>
                    <div><strong>Date:</strong> <span id="receipt-date">N/A</span></div>
                    <div><strong>Time:</strong> <span id="receipt-time">N/A</span></div>
                    <div><strong>Customer:</strong> <span id="customer-name">N/A</span></div>
                </div>

                <table class="receipt-table">
                    <thead>
                    <tr>
                        <th>Item</th>
                        <th align="center">Qty</th>
                        <th align="right">Price</th>
                        <th align="right">Total</th>
                    </tr>
                    </thead>
                    <tbody id="receipt-items">
                    <!-- Items will be populated here -->
                    </tbody>
                </table>

                <div class="totals-section">
                    <div class="total-row">
                        <span>Subtotal:</span>
                        <span id="receipt-subtotal">0.00 EGP</span>
                    </div>
                    <div class="total-row">
                        <span>Tax (10%):</span>
                        <span id="receipt-tax">0.00 EGP</span>
                    </div>
                    <div class="total-row grand-total">
                        <span>TOTAL:</span>
                        <span id="receipt-total">0.00 EGP</span>
                    </div>
                </div>

                <div class="payment-method">
                    Payment Method: <span id="receipt-payment-method">N/A</span>
                </div>

                <div class="thank-you">
                    Thank you for dining with us!
                </div>

                <div class="footer">
                    <div>*** RECEIPT ***</div>
                    <div>Keep this receipt for your records</div>
                    <div>For inquiries: info@egyptianrestaurant.com</div>
                    <div id="receipt-timestamp">N/A</div>
                </div>
            </div>
        </div>
    </main>

    <script type="module" src="js/waiter.js"></script>
</body>
</html>

